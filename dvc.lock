schema: '2.0'
stages:
  data_download:
    cmd: python src\data\download_data.py params.yaml
    deps:
    - path: src\data\download_data.py
      md5: c08041e308aefc17ad390d7ca0e613d6
      size: 921
    params:
      params.yaml:
        input_url_data: https://gist.githubusercontent.com/michhar/2dfd2de0d4f8727f873422c5d959fff5/raw/fa71405126017e6a37bea592440b4bee94bf7b9e/titanic.csv
        output_raw_data: data/raw/titanic_downloaded_data.csv
  ddd:
    cmd: python src\data\download_data.py params.yaml
  download_data:
    cmd: python src\data\download_data.py params.yaml
    deps:
    - path: src\data\download_data.py
      md5: cd049fee49b7f9e7cac187c266ff1b00
      size: 760
    params:
      params.yaml:
        input_url_data: https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv
        output_raw_data: data/raw/titanic_downloaded_data.csv
  split_data:
    cmd: python src\data\split_data.py params.yaml
    deps:
    - path: src\data\split_data.py
      md5: 2d610882b5617b3c8c56755af99c55f8
      size: 1489
    params:
      params.yaml:
        feature_params.features_to_drop:
        - PassengerId
        - Name
        - Ticket
        - Cabin
        feature_params.target: Survived
        output_raw_data: data/raw/titanic_downloaded_data.csv
        splitting_params:
          random_state: 17
          test_size: 0.3
          stratify: false
          X_train_path: data/raw/X_train.csv
          X_test_path: data/raw/X_test.csv
          y_train_path: data/processed/y_train.csv
          y_test_path: data/processed/y_test.csv
  make_dataset:
    cmd: python src\data\make_dataset.py params.yaml
    deps:
    - path: src\data\make_dataset.py
      md5: 4ddd929b603bf74f050fe92201fcaca8
      size: 1373
    params:
      params.yaml:
        feature_transforming:
          X_train_transformed_path: data/processed/X_train_transformed.csv
          X_test_transformed_path: data/processed/X_test_transformed.csv
          transformer_path: models/transformer.pkl
        splitting_params.X_test_path: data/raw/X_test.csv
        splitting_params.X_train_path: data/raw/X_train.csv
